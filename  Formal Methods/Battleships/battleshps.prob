parser_version('6493608583aa373b4ee423036e944e7074ab4262').
classical_b('Battleshps',['E:\\IIT\\IIT\\IIT-L6\\1st Sem\\Formal Methods\\CW\\w1867089_20210333_Thimali_Waduge\\Battleships\\Battleshps.mch']).
machine(abstract_machine(p5(1,5,1,241,4),machine(p3(5,1,8)),machine_header(p3(6,5,15),'Battleshps',[]),[sets(p5(1,8,1,12,66),[enumerated_set(p3(9,5,33),'PLAYERS',[identifier(p3(9,16,23),'Player1'),identifier(p3(9,25,32),'Player2')]),enumerated_set(p3(10,5,119),'STATUS',[identifier(p3(10,15,31),'Deployment_phase'),identifier(p3(10,33,61),'Both_need_deploy_their_fleet'),identifier(p3(10,63,81),'One_need_to_Deploy'),identifier(p3(10,83,90),'Ongoing'),identifier(p3(10,92,104),'Player1_wins'),identifier(p3(10,106,118),'Player2_wins')]),enumerated_set(p5(1,11,5,12,66),'MESSAGES',[identifier(p3(11,17,50),'Error_Invalid_number_of_positions'),identifier(p3(11,52,78),'Error_Target_out_of_bounds'),identifier(p3(11,80,100),'Player_1_Hit_and_Win'),identifier(p3(11,102,122),'Player_2_Hit_and_Win'),identifier(p3(11,124,131),'Success'),identifier(p3(12,9,21),'Player_1_Hit'),identifier(p3(12,23,35),'Player_2_Hit'),identifier(p3(12,37,50),'Player_1_Miss'),identifier(p3(12,52,65),'Player_2_Miss')])]),constants(p5(1,14,1,16,14),[identifier(p3(15,5,9),'GRID'),identifier(p3(16,5,14),'MAX_SHIPS')]),properties(p5(1,18,1,20,18),conjunct(p5(1,19,5,20,18),[equal(p3(19,5,28),identifier(p3(19,5,9),'GRID'),mult_or_cart(p3(19,13,28),interval(p3(19,13,18),integer(p3(19,13,14),1),integer(p3(19,16,18),10)),interval(p3(19,23,28),integer(p3(19,23,24),1),integer(p3(19,26,28),10)))),equal(p3(20,5,18),identifier(p3(20,5,14),'MAX_SHIPS'),integer(p3(20,17,18),3))])),variables(p5(1,22,1,27,31),[identifier(p3(23,5,16),gridPlayer1),identifier(p3(23,18,29),gridPlayer2),identifier(p3(24,5,15),playerTurn),identifier(p3(25,5,14),gameState),identifier(p3(26,5,17),player1Ships),identifier(p3(26,19,31),player2Ships),identifier(p3(27,5,17),shotsPlayer1),identifier(p3(27,19,31),shotsPlayer2)]),invariant(p5(1,29,1,39,23),conjunct(p5(1,30,5,39,23),[subset(p3(30,5,24),identifier(p3(30,5,16),gridPlayer1),identifier(p3(30,20,24),'GRID')),subset(p3(31,5,24),identifier(p3(31,5,16),gridPlayer2),identifier(p3(31,20,24),'GRID')),less_equal(p3(32,5,35),card(p3(32,5,22),identifier(p3(32,10,21),gridPlayer1)),identifier(p3(32,26,35),'MAX_SHIPS')),less_equal(p3(33,5,35),card(p3(33,5,22),identifier(p3(33,10,21),gridPlayer2)),identifier(p3(33,26,35),'MAX_SHIPS')),member(p3(34,5,25),identifier(p3(34,5,15),playerTurn),identifier(p3(34,18,25),'PLAYERS')),member(p3(35,5,23),identifier(p3(35,5,14),gameState),identifier(p3(35,17,23),'STATUS')),member(p3(36,5,23),identifier(p3(36,5,17),player1Ships),nat_set(p3(36,20,23))),member(p3(37,5,23),identifier(p3(37,5,17),player2Ships),nat_set(p3(37,20,23))),member(p3(38,5,23),identifier(p3(38,5,17),shotsPlayer1),nat_set(p3(38,20,23))),member(p3(39,5,23),identifier(p3(39,5,17),shotsPlayer2),nat_set(p3(39,20,23)))])),initialisation(p5(1,41,1,49,22),parallel(p5(1,42,5,49,22),[assign(p3(42,5,22),[identifier(p3(42,5,16),gridPlayer1)],[empty_set(p3(42,20,22))]),assign(p3(43,5,22),[identifier(p3(43,5,16),gridPlayer2)],[empty_set(p3(43,20,22))]),assign(p3(44,5,26),[identifier(p3(44,5,15),playerTurn)],[identifier(p3(44,19,26),'Player1')]),assign(p3(45,5,46),[identifier(p3(45,5,14),gameState)],[identifier(p3(45,18,46),'Both_need_deploy_their_fleet')]),assign(p3(46,5,22),[identifier(p3(46,5,17),player1Ships)],[integer(p3(46,21,22),0)]),assign(p3(47,5,22),[identifier(p3(47,5,17),player2Ships)],[integer(p3(47,21,22),0)]),assign(p3(48,5,22),[identifier(p3(48,5,17),shotsPlayer1)],[integer(p3(48,21,22),0)]),assign(p3(49,5,22),[identifier(p3(49,5,17),shotsPlayer2)],[integer(p3(49,21,22),0)])])),operations(p5(1,51,1,237,8),[operation(p5(1,54,5,88,8),identifier(p5(1,54,5,88,8),deployFleet),[identifier(p3(54,5,11),report)],[identifier(p3(54,28,34),player),identifier(p3(54,36,45),positions)],precondition(p5(1,55,5,88,8),conjunct(p5(1,56,9,62,28),[member(p3(56,9,71),identifier(p3(56,9,18),gameState),set_extension(p3(56,21,71),[identifier(p3(56,22,50),'Both_need_deploy_their_fleet'),identifier(p3(56,52,70),'One_need_to_Deploy')])),member(p3(57,9,25),identifier(p3(57,9,15),player),identifier(p3(57,18,25),'PLAYERS')),subset(p3(58,9,26),identifier(p3(58,9,18),positions),identifier(p3(58,22,26),'GRID')),equal(p3(59,9,36),card(p3(59,9,24),identifier(p3(59,14,23),positions)),identifier(p3(59,27,36),'MAX_SHIPS')),implication(p3(60,10,46),equal(p3(60,10,26),identifier(p3(60,10,16),player),identifier(p3(60,19,26),'Player1')),equal(p3(60,30,46),identifier(p3(60,30,41),gridPlayer1),empty_set(p3(60,44,46)))),implication(p3(61,10,46),equal(p3(61,10,26),identifier(p3(61,10,16),player),identifier(p3(61,19,26),'Player2')),equal(p3(61,30,46),identifier(p3(61,30,41),gridPlayer2),empty_set(p3(61,44,46)))),equal(p3(62,9,28),identifier(p3(62,9,15),player),identifier(p3(62,18,28),playerTurn))]),if(p5(1,64,9,87,12),equal(p3(64,12,39),card(p3(64,12,27),identifier(p3(64,17,26),positions)),identifier(p3(64,30,39),'MAX_SHIPS')),if(p5(1,66,13,84,16),equal(p3(66,16,32),identifier(p3(66,16,22),player),identifier(p3(66,25,32),'Player1')),parallel(p5(1,68,17,77,20),[assign(p3(68,17,41),[identifier(p3(68,17,28),gridPlayer1)],[identifier(p3(68,32,41),positions)]),assign(p3(69,17,42),[identifier(p3(69,17,29),player1Ships)],[identifier(p3(69,33,42),'MAX_SHIPS')]),if(p5(1,70,17,77,20),equal(p3(70,20,36),identifier(p3(70,20,31),gridPlayer2),empty_set(p3(70,34,36))),parallel(p5(1,72,21,74,42),[assign(p3(72,21,52),[identifier(p3(72,21,30),gameState)],[identifier(p3(72,34,52),'One_need_to_Deploy')]),assign(p3(73,21,38),[identifier(p3(73,21,27),report)],[identifier(p3(73,31,38),'Success')]),assign(p3(74,21,42),[identifier(p3(74,21,31),playerTurn)],[identifier(p3(74,35,42),'Player2')])]),[],assign(p3(76,21,41),[identifier(p3(76,21,30),gameState)],[identifier(p3(76,34,41),'Ongoing')]))]),[],parallel(p5(1,79,17,83,34),[assign(p3(79,17,41),[identifier(p3(79,17,28),gridPlayer2)],[identifier(p3(79,32,41),positions)]),assign(p3(80,17,42),[identifier(p3(80,17,29),player2Ships)],[identifier(p3(80,33,42),'MAX_SHIPS')]),assign(p3(81,17,37),[identifier(p3(81,17,26),gameState)],[identifier(p3(81,30,37),'Ongoing')]),assign(p3(82,17,38),[identifier(p3(82,17,27),playerTurn)],[identifier(p3(82,31,38),'Player1')]),assign(p3(83,17,34),[identifier(p3(83,17,23),report)],[identifier(p3(83,27,34),'Success')])])),[],assign(p3(86,13,56),[identifier(p3(86,13,19),report)],[identifier(p3(86,23,56),'Error_Invalid_number_of_positions')])))),operation(p5(1,92,5,140,8),identifier(p5(1,92,5,140,8),playerShoots),[identifier(p3(92,5,11),report)],[identifier(p3(92,29,35),target)],precondition(p5(1,93,5,140,8),conjunct(p5(1,94,9,95,28),[member(p3(94,9,22),identifier(p3(94,9,15),target),identifier(p3(94,18,22),'GRID')),equal(p3(95,9,28),identifier(p3(95,9,18),gameState),identifier(p3(95,21,28),'Ongoing'))]),if(p5(1,97,9,139,12),not_member(p3(97,12,26),identifier(p3(97,12,18),target),identifier(p3(97,22,26),'GRID')),assign(p3(99,13,49),[identifier(p3(99,13,19),report)],[identifier(p3(99,23,49),'Error_Target_out_of_bounds')]),[],if(p5(1,101,13,138,16),equal(p3(101,16,36),identifier(p3(101,16,26),playerTurn),identifier(p3(101,29,36),'Player1')),parallel(p5(1,103,17,119,20),[assign(p3(103,17,49),[identifier(p3(103,17,29),shotsPlayer1)],[add(p3(103,33,49),identifier(p3(103,33,45),shotsPlayer1),integer(p3(103,48,49),1))]),if(p5(1,104,17,119,20),member(p3(104,20,40),identifier(p3(104,20,26),target),identifier(p3(104,29,40),gridPlayer2)),parallel(p5(1,106,21,115,24),[assign(p3(106,21,58),[identifier(p3(106,21,32),gridPlayer2)],[minus_or_set_subtract(p3(106,36,58),identifier(p3(106,36,47),gridPlayer2),set_extension(p3(106,50,58),[identifier(p3(106,51,57),target)]))]),assign(p3(107,21,53),[identifier(p3(107,21,33),player2Ships)],[minus_or_set_subtract(p3(107,37,53),identifier(p3(107,37,49),player2Ships),integer(p3(107,52,53),1))]),if(p5(1,108,21,115,24),equal(p3(108,24,40),identifier(p3(108,24,36),player2Ships),integer(p3(108,39,40),1)),parallel(p5(1,110,25,111,55),[assign(p3(110,25,50),[identifier(p3(110,25,34),gameState)],[identifier(p3(110,38,50),'Player1_wins')]),assign(p3(111,25,55),[identifier(p3(111,25,31),report)],[identifier(p3(111,35,55),'Player_1_Hit_and_Win')])]),[],parallel(p5(1,113,25,114,47),[assign(p3(113,25,46),[identifier(p3(113,25,35),playerTurn)],[identifier(p3(113,39,46),'Player2')]),assign(p3(114,25,47),[identifier(p3(114,25,31),report)],[identifier(p3(114,35,47),'Player_1_Hit')])]))]),[],parallel(p5(1,117,21,118,44),[assign(p3(117,21,42),[identifier(p3(117,21,31),playerTurn)],[identifier(p3(117,35,42),'Player2')]),assign(p3(118,21,44),[identifier(p3(118,21,27),report)],[identifier(p3(118,31,44),'Player_1_Miss')])]))]),[],parallel(p5(1,121,17,137,20),[assign(p3(121,17,49),[identifier(p3(121,17,29),shotsPlayer2)],[add(p3(121,33,49),identifier(p3(121,33,45),shotsPlayer2),integer(p3(121,48,49),1))]),if(p5(1,122,17,137,20),member(p3(122,20,40),identifier(p3(122,20,26),target),identifier(p3(122,29,40),gridPlayer1)),parallel(p5(1,124,21,133,24),[assign(p3(124,21,58),[identifier(p3(124,21,32),gridPlayer1)],[minus_or_set_subtract(p3(124,36,58),identifier(p3(124,36,47),gridPlayer1),set_extension(p3(124,50,58),[identifier(p3(124,51,57),target)]))]),assign(p3(125,21,53),[identifier(p3(125,21,33),player1Ships)],[minus_or_set_subtract(p3(125,37,53),identifier(p3(125,37,49),player1Ships),integer(p3(125,52,53),1))]),if(p5(1,126,21,133,24),equal(p3(126,24,40),identifier(p3(126,24,36),player1Ships),integer(p3(126,39,40),1)),parallel(p5(1,128,25,129,55),[assign(p3(128,25,50),[identifier(p3(128,25,34),gameState)],[identifier(p3(128,38,50),'Player2_wins')]),assign(p3(129,25,55),[identifier(p3(129,25,31),report)],[identifier(p3(129,35,55),'Player_2_Hit_and_Win')])]),[],parallel(p5(1,131,25,132,47),[assign(p3(131,25,46),[identifier(p3(131,25,35),playerTurn)],[identifier(p3(131,39,46),'Player1')]),assign(p3(132,25,47),[identifier(p3(132,25,31),report)],[identifier(p3(132,35,47),'Player_2_Hit')])]))]),[],parallel(p5(1,135,21,136,44),[assign(p3(135,21,42),[identifier(p3(135,21,31),playerTurn)],[identifier(p3(135,35,42),'Player1')]),assign(p3(136,21,44),[identifier(p3(136,21,27),report)],[identifier(p3(136,31,44),'Player_2_Miss')])]))]))))),operation(p5(1,144,5,153,8),identifier(p5(1,144,5,153,8),shipLocations),[identifier(p3(144,5,16),shipsquares)],[identifier(p3(144,35,41),player)],precondition(p5(1,145,5,153,8),member(p3(145,9,25),identifier(p3(145,9,15),player),identifier(p3(145,18,25),'PLAYERS')),if(p5(1,147,9,152,12),equal(p3(147,12,28),identifier(p3(147,12,18),player),identifier(p3(147,21,28),'Player1')),assign(p3(149,13,39),[identifier(p3(149,13,24),shipsquares)],[identifier(p3(149,28,39),gridPlayer1)]),[],assign(p3(151,13,39),[identifier(p3(151,13,24),shipsquares)],[identifier(p3(151,28,39),gridPlayer2)])))),operation(p5(1,157,5,160,8),identifier(p5(1,157,5,160,8),shipsLeft),[identifier(p3(157,5,15),shipCounts)],[],block(p5(1,158,5,160,8),assign(p3(159,9,51),[identifier(p3(159,9,19),shipCounts)],[couple(p3(159,23,51),[identifier(p3(159,24,36),player1Ships),identifier(p3(159,38,50),player2Ships)])]))),operation(p5(1,164,5,173,8),identifier(p5(1,164,5,173,8),shotsTaken),[identifier(p3(164,5,14),shotCount)],[identifier(p3(164,30,36),player)],precondition(p5(1,165,5,173,8),member(p3(165,9,25),identifier(p3(165,9,15),player),identifier(p3(165,18,25),'PLAYERS')),if(p5(1,167,9,172,12),equal(p3(167,12,28),identifier(p3(167,12,18),player),identifier(p3(167,21,28),'Player1')),assign(p3(169,13,38),[identifier(p3(169,13,22),shotCount)],[identifier(p3(169,26,38),shotsPlayer1)]),[],assign(p3(171,13,38),[identifier(p3(171,13,22),shotCount)],[identifier(p3(171,26,38),shotsPlayer2)])))),operation(p5(1,178,5,198,8),identifier(p5(1,178,5,198,8),gameStatus),[identifier(p3(178,5,11),report)],[],block(p5(1,179,5,198,8),if(p5(1,180,9,197,12),equal(p3(180,12,52),identifier(p3(180,12,21),gameState),identifier(p3(180,24,52),'Both_need_deploy_their_fleet')),assign(p3(182,13,51),[identifier(p3(182,13,19),report)],[identifier(p3(182,23,51),'Both_need_deploy_their_fleet')]),[if_elsif(none,equal(p3(183,15,45),identifier(p3(183,15,24),gameState),identifier(p3(183,27,45),'One_need_to_Deploy')),assign(p3(185,13,41),[identifier(p3(185,13,19),report)],[identifier(p3(185,23,41),'One_need_to_Deploy')])),if_elsif(none,equal(p3(186,15,43),identifier(p3(186,15,24),gameState),identifier(p3(186,27,43),'Deployment_phase')),assign(p3(188,13,39),[identifier(p3(188,13,19),report)],[identifier(p3(188,23,39),'Deployment_phase')])),if_elsif(none,equal(p3(189,15,34),identifier(p3(189,15,24),gameState),identifier(p3(189,27,34),'Ongoing')),assign(p3(191,13,30),[identifier(p3(191,13,19),report)],[identifier(p3(191,23,30),'Ongoing')])),if_elsif(none,equal(p3(192,15,39),identifier(p3(192,15,24),gameState),identifier(p3(192,27,39),'Player1_wins')),assign(p3(194,13,35),[identifier(p3(194,13,19),report)],[identifier(p3(194,23,35),'Player1_wins')]))],assign(p3(196,13,35),[identifier(p3(196,13,19),report)],[identifier(p3(196,23,35),'Player2_wins')])))),operation(p5(1,203,5,206,8),identifier(p5(1,203,5,206,8),getCurrentPlayer),[identifier(p3(203,5,11),result)],[],block(p5(1,204,5,206,8),assign(p3(205,9,29),[identifier(p3(205,9,15),result)],[identifier(p3(205,19,29),playerTurn)]))),operation(p5(1,211,5,220,8),identifier(p5(1,211,5,220,8),checkWinner),[identifier(p3(211,5,11),winner)],[],precondition(p5(1,212,5,220,8),member(p3(213,9,49),identifier(p3(213,9,18),gameState),set_extension(p3(213,21,49),[identifier(p3(213,22,34),'Player1_wins'),identifier(p3(213,36,48),'Player2_wins')])),if(p5(1,215,9,219,12),equal(p3(215,12,36),identifier(p3(215,12,21),gameState),identifier(p3(215,24,36),'Player1_wins')),assign(p3(216,13,30),[identifier(p3(216,13,19),winner)],[identifier(p3(216,23,30),'Player1')]),[],assign(p3(218,13,30),[identifier(p3(218,13,19),winner)],[identifier(p3(218,23,30),'Player2')])))),operation(p5(1,225,5,237,8),identifier(p5(1,225,5,237,8),restartGame),[],[],precondition(p5(1,226,5,237,8),member(p3(227,9,99),identifier(p3(227,9,18),gameState),set_extension(p3(227,21,99),[identifier(p3(227,22,34),'Player1_wins'),identifier(p3(227,36,48),'Player2_wins'),identifier(p3(227,50,78),'Both_need_deploy_their_fleet'),identifier(p3(227,80,98),'One_need_to_Deploy')])),parallel(p5(1,229,9,236,26),[assign(p3(229,9,26),[identifier(p3(229,9,20),gridPlayer1)],[empty_set(p3(229,24,26))]),assign(p3(230,9,26),[identifier(p3(230,9,20),gridPlayer2)],[empty_set(p3(230,24,26))]),assign(p3(231,9,30),[identifier(p3(231,9,19),playerTurn)],[identifier(p3(231,23,30),'Player1')]),assign(p3(232,9,50),[identifier(p3(232,9,18),gameState)],[identifier(p3(232,22,50),'Both_need_deploy_their_fleet')]),assign(p3(233,9,26),[identifier(p3(233,9,21),player1Ships)],[integer(p3(233,25,26),0)]),assign(p3(234,9,26),[identifier(p3(234,9,21),player2Ships)],[integer(p3(234,25,26),0)]),assign(p3(235,9,26),[identifier(p3(235,9,21),shotsPlayer1)],[integer(p3(235,25,26),0)]),assign(p3(236,9,26),[identifier(p3(236,9,21),shotsPlayer2)],[integer(p3(236,25,26),0)])])))])])).
